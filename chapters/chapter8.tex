\chapter[\texorpdfstring{Достаточные условия дифференцируемости функции не\-скольких переменных.}{Достаточные условия дифференцируемости функции нескольких переменных}]{Достаточные условия дифференцируемости функции нескольких переменных.}
\section[\texorpdfstring{Достаточные условия дифференцируемости функции \\несколь\-ких переменных.}{Достаточные условия дифференцируемости функции нескольких переменных}]{Достаточные условия дифференцируемости функции нескольких переменных}

\begin{defn}
Функция $f$ называется дифференцируемой в точке $x^0 \in \bbR^n$, если она определена в некоторой окрестности точки $x^0$ и $\exists$ вектор $A = \{ A_1,A_2,\dots,A_n\} \in \bbR^n$, такой что 

\begin{equation} \label{ch8eq1}
f(x) - f(x^0) = (A, x - x^0) + o(|x - x^0|), \; x \to x^0, 
\end{equation}
где $(A, x - x^0) = A_1(x_1 - x^0_1) + \ldots + A_n(x_n - x^0_n); \; o(|x - x^0|) = \alpha(x)|x - x^0|,$ где $\alpha(x)$ определена в $O(x^0), \; \lim\limits_{x \to x^0} \alpha(x) = 0$.

При этом вектор $A \in \bbR^n$ называется градиентом функции $f$ в точке $x^0$. (Градиент $f$ в точке $x^0$ определен, если функция $f$ дифференцируема в точке $x^0$). Обозначается $\grad f(x^0), \nabla f(x^0)$.

Функция $f$ дифференцируема в точке $x^0 \in \bbR^n \; \Leftrightarrow \; f$ определена в окрестности $O(x^0)$ и $\exists A \in \bbR^n$, такое что 
$$
f(x) = f(x^0) + (A, x - x^0) + \alpha(x) \cdot |x - x^0|, \; \textit{где} \; \alpha \text{ "--- бмф при } x \to x^0 
$$ 
\begin{equation} \label{ch8eq1'}
\Longleftrightarrow \; \exists \lim\limits_{x \to x^0} \frac{f(x) - f(x^0) - (A, x - x^0)}{|x - x^0|} = 0
\tag{\ref{ch8eq1}$'$}
\end{equation}
\end{defn}

\begin{defn}
Если функция $f$ дифференцируема в точке $x^0 \in \bbR^n$, то дифференциалом функции $f$ в точке $x^0$ называется функция аргумента $h \in \bbR^n$, линейная  по $h$ и заданная равенством
$$
df(x^0, h) = (\grad f(x^0), h) = A_1 h_1 + \ldots + A_n h_n.
$$

Если функция $f\colon G \to \bbR^1 (G \subset \bbR^n)$, дифференцируема на множестве $D \subset G$, то дифференциалом функции $f$ называется функция $df(x,h)$, где $(x,h) \in D \times \bbR^n$; $df(x,h) = (\grad f(x), h)$
\end{defn}

\begin{defn}
Производной функции $f$, определенной в окрестности $O(x^0), \: x^0 \in \bbR^n$ по направлению $\vv{l} \in \bbR^n \; |l| = 1$, называется предел
$$
\frac{\partial f}{\partial l}(x^0) = \lim\limits_{t \to 0} \frac{f(x^0 + tl) - f(x^0)}{t}
$$
\end{defn}

\begin{defn}
Частной производной функции $f$, определенной в окрестности точки $x^0 \in \bbR^n$ по переменной $x_j, \: j \in \overline{1,n}$ в точке $x^0 \in \bbR^n$, называется производная функции $f$ в точке $x^0$ по направлению $\vv{l}_j = (0, \ldots, l_j = 1, \ldots, 0)$. Обозначается $\frac{\partial f}{\partial x_j}(x^0)$

$$
\frac{\partial f}{\partial x_j}(x^0) = \lim\limits_{t \to 0} \frac{f(x^0_1, \ldots, x^0_{j - 1}, x^0_j + t, x^0_{j + 1}, \ldots, x^0_n) - f(x^0)}{t}  
$$
\end{defn}

Напомним, что для функций одной переменной дифференцируемость равносильна существованию конечной производной в рассматриваемой точке. В случае двух переменных существование частных производных не является достаточным даже для непрерывности функции. Например, функция $f(x,y)=\sign xy $ разрывна в точке $(0, 0)$, однако в этой точке она имеет обе частные производные $f'_x$, $f'_y$, равные нулю. Поэтому рассмотрим достаточное условие дифференцируемости для функций двух переменных.
\begin{thm}[Достаточное условие дифференцируемости] \label{ch8th1}
Если функция $f(x,y)$ имеет в некоторой окрестности $O(x^0, y^0)$ частные производные $f'_x(x,y)$, $f'_y(x,y)$, $(x,y) \in O(x^0, y^0)$, которые непрерывны в точке $(x^0, y^0)$, то функция $f$ дифференцируема в точке $(x^0, y^0)$.
\end{thm}
\begin{proof}
\proofpicture{ch8pict1}{0.4}{ Через $O_\delta(x^0, y^0)$ обозначим $\delta$-окрестность точки $(x^0, y^0)$,} в которой существуют частные производные $f'_x(x,y)$, $f'_y(x,y)$. Пусть $(x,y) \in O_\delta(x^0, y^0)$, что по определению означает:
$$
|x - x^0|^2 + |y - y^0|^2 < \delta^2.
$$ 
Т.к.~в этом неравенстве первое слагаемое неотрицательно, то отсюда и из геометрических соображений рисунка~\ref{ch8pict1} следует $|y - y^0|^2 < \delta^2$. Другими словами, точка $(x^0, y)$ принадлежит $O_\delta(x^0, y^0)$ и имеет смысл записать следующее равенство:
\begin{equation*}
f(x,y) - f(x^0, y^0) = (f(x,y) - f(x^0, y)) + (f(x^0, y) - f(x^0, y^0)),
\end{equation*}

Покажем, что к разностям в скобках можно применить теорему Лагранжа. Действительно, согласно условию теоремы функция $f(x, y)$ имеет частную производную $f'_x$ в любой точке $(\xi, y)$  при $\xi \in [x^0, x]$, т.к. тогда $(\xi, y) \in O_\delta(x^0, y^0)$ Проще говоря, функция $\phi(\xi)=f(\xi, y)$ дифференцируема на отрезке $[x^0, x]$ и к ней применима теорема Лагранжа: существует $\xi_1 \in (x^0, x)$, такое что выполняется $\phi(x) - \phi(x^0) = \phi'(\xi_1)(x - x^0)$. Или же, другими словами, $\exists \xi_1 \in (x^0, x)$:
$$
f(x,y) - f(x^0, y) = f'_x(\xi_1, y)(x - x^0)
$$

Аналогично, $\exists \eta_1 \in (y, y^0)$:
$$
f(x^0, y) - f(x^0, y^0) = f'_y(x^0, \eta_1)(y - y^0)
$$ 

Таким образом, показано, что для всех точек $(x,y)$ из окрестности $O_\delta(x^0, y^0)$ найдутся такие $\xi_1 \in (x^0, x)$ и $\eta_1 \in (y^0, y)$, при которых:
$$
f(x,y) - f(x^0, y^0) = f'_x(\xi_1, y) \Delta x + f'_y(x, \eta_1) \Delta y
$$

Т.к.~частные производные $f'_x$, $f'_y$ непрерывны в точке $(x^0, y^0)$, то 
$$
\lim\limits_{(x,y) \to (x^0, y^0)} f'_x(\xi_1, y) = f'_x(x^0, y^0);\qquad 
\lim\limits_{(x,y) \to (x^0, y^0)} f'_y(x, \eta_1) = f'_y(x^0, y^0).
$$
Следовательно, функции $\alpha =  f'_x(\xi_1, y) - f'_x(x^0, y^0)$ и $\beta =  f'_y(x, \eta_1) - f'_y(x^0, y^0)$ являются бесконечно малыми при $(x,y) \to (x^0, y^0)$. 

Таким образом,
$$
f(x,y) - f(x^0, y^0) = f'_x(x^0, y^0) \Delta x + f'_y(x^0, y^0) \Delta y + \alpha \Delta x + \beta \Delta y,
$$
где $\alpha \to 0$ и $\beta \to 0$ при $(x,y)\to(x^0,y^0)$.

Осталось лишь показать, что последние два слагаемые в сумме тоже представляют из себя бесконечно малую величину. Представим ее в следующем виде:
$$
\alpha \Delta x + \beta \Delta y = \frac{\alpha \Delta x + \beta \Delta y}{\sqrt{\Delta x^2 + \Delta y^2}} \cdot \sqrt{\Delta x^2 + \Delta y^2} = \gamma \cdot \sqrt{\Delta x^2 + \Delta y^2},
$$
где
$$
\gamma = \alpha \frac{\Delta x}{\sqrt{\Delta x^2 + \Delta y^2}} + \beta \frac{\Delta y}{\sqrt{\Delta x^2 + \Delta y^2}}.
$$
Поскольку $\alpha$ и $\beta$ "--- бесконечно малые, а соответствующие множители являются ограниченными функциями, то следовательно функция $\gamma$ сама является бесконечно малой и $\gamma \cdot \sqrt{\Delta x^2 + \Delta y^2} = o(\sqrt{\Delta x^2 + \Delta y^2})$. Окончательно
$$
f(x,y) - f(x^0, y^0) = f'_x(x^0, y^0) \Delta x + f'_y(x^0, y^0) \Delta y + o(\sqrt{\Delta x^2 + \Delta y^2}),
$$
т.е.~$f$ дифференцируема в точке $(x^0, y^0)$.

Теорема доказана.
\end{proof}

На самом деле, эта теорема переносится на случай многомерного пространства.
\begin{thmn}
Если функция $f(x)$ имеет частные производные $\partial f /\partial x_i$, $i=\overline{1,n}$, в некоторой окрестности точки $x_0$ и эти производные непрерывны в точке $x_0$, то функция $f(x)$ дифференцируема в точке $x_0$.
\end{thmn}
\begin{cons}
Если функция $f$ определена на области $G \subset \bbR^n$ и имеет на этой области частные производные 1-го порядка, которые непрерывны на области $G$, то функция $f$ дифференцируема в каждой точке области~$G$.
\end{cons}
